(this["webpackJsonpreact-starter-pack"]=this["webpackJsonpreact-starter-pack"]||[]).push([[0],{18:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},23:function(e,t,n){},24:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(1),c=n.n(i),r=n(11),o=n.n(r),s=(n(18),n(5)),l=n(9),u=n.n(l),j=n(12),d=n(2),m=(n(20),n(10)),b=n.n(m),v=(n(21),function(e){var t=e.movie,n=e.removeMovie,c=Object(i.useState)(!1),r=Object(d.a)(c,2),o=r[0],s=r[1];return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"movie-heading",children:[Object(a.jsx)("div",{role:"button",tabIndex:0,className:b()("movie-title",{"movie-title--open":o}),onClick:function(){return s(!o)},onKeyDown:function(){return s(!o)},children:t.title}),Object(a.jsx)("button",{className:"delete-btn",type:"button",onClick:function(){return n(t.id)},children:"\ud83d\uddd1"})]}),Object(a.jsxs)("div",{className:b()("movie-information",{"movie-information--active":o}),children:[Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"movie-information__name",children:"Release year: "}),t.year]}),Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"movie-information__name",children:"Movie format: "}),t.format]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{className:"movie-information__name",children:"Cast: "}),t.actors.map((function(e){return Object(a.jsx)("p",{children:e},e)}))]})]})]})}),f=function(e){var t=e.movies,n=e.removeMovie;return Object(a.jsx)("div",{children:t.map((function(e){return Object(a.jsx)(v,{movie:e,removeMovie:n},e.id)}))})};n(22);function p(e){var t=e.showUploadedMovies,n=Object(i.useState)([]),c=Object(d.a)(n,2),r=c[0],o=c[1],s=function(e){var t=e.target.result.split(/\n\r\n/).map((function(e){var t=e.trim().split(/\r\n/).map((function(e){return e.split(": ")[1]}));return{id:t[0]+t[1],title:t[0],year:t[1],format:t[2],actors:t[3].split(", ")}}));o(t)};return Object(a.jsxs)("div",{className:"form-upload",children:[Object(a.jsx)("input",{className:"form-upload__input",type:"file",accept:".txt",onChange:function(e){return function(e){var t=new FileReader;t.onloadend=s,t.readAsText(e)}(e.target.files[0])}}),Object(a.jsx)("button",{type:"button",className:"form-upload__button",onClick:function(){t(r),o([])},children:"Show movies"})]})}var O=n(7),h=n(4),x=(n(23),function(e){var t=e.addMovie,n=Object(i.useState)({id:"",title:"",year:2022,format:"",actors:[""]}),c=Object(d.a)(n,2),r=c[0],o=c[1],s=function(e){var t=e.target,n=t.name,a=t.value;"year"===n&&o(Object(h.a)(Object(h.a)({},r),{},{year:+a})),o(Object(h.a)(Object(h.a)({},r),{},Object(O.a)({id:r.title+r.year},n,a))),console.log(r)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"form-title",children:"Add a new movie"}),Object(a.jsxs)("form",{action:"",onSubmit:function(e){e.preventDefault(),t(r),o({id:2022,title:"",year:"",format:""})},children:[Object(a.jsx)("div",{className:"input-title",children:Object(a.jsx)("label",{className:"label",children:Object(a.jsx)("input",{className:"input",required:!0,type:"text",id:"title",placeholder:"Enter movie title",value:r.title,name:"title",onChange:s})})}),Object(a.jsx)("div",{className:"input-year",children:Object(a.jsx)("input",{className:"input",required:!0,type:"text",id:"year",placeholder:"Enter movie release year",value:r.year,name:"year",onChange:s})}),Object(a.jsx)("div",{className:"input-format",children:Object(a.jsxs)("select",{className:"input",name:"format",id:"format",value:r.format,onChange:s,children:[Object(a.jsx)("option",{value:"DVD",children:"DVD"}),Object(a.jsx)("option",{value:"Blu-Ray",children:"Blu-Ray"}),Object(a.jsx)("option",{value:"VHC",children:"VHC"})]})}),Object(a.jsx)("button",{className:"form-button",type:"submit",children:"Add movie"})]})]})}),y=function(){return fetch("http://localhost:8000/api/v1/movies?sort=year&order=DESC&limit=10&offset=0",{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNjI0OTcyMjYwfQ.X31cryg_A126WLYT96PD-SLLFWSxb2SeoQZ4cvx3VhU"},body:JSON.stringify()}).then((function(e){return e.json()}))},N=function(){var e=Object(i.useState)([{id:"1",title:"Blazing Saddles",year:1974,format:"VHS",actors:["Harvey Korman","Gene Wilder","Slim Pickens","Madeline Kahn"]},{id:"2",title:"Matrix",year:2e3,format:"VHS",actors:["Mel Brooks"]}]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(""),o=Object(d.a)(r,2),l=o[0],m=o[1];Object(i.useEffect)((function(){function e(){return(e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y();case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var b=n.filter((function(e){return e.title.toLowerCase().includes(l)||e.actors.find((function(e){return e.toLowerCase().includes(l)}))}));return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(x,{addMovie:function(e){c([].concat(Object(s.a)(n),[e]))}}),Object(a.jsx)(p,{showUploadedMovies:function(e){c([].concat(Object(s.a)(n),Object(s.a)(e)))}}),Object(a.jsx)("div",{className:"movieList-title",children:"Movie list"}),Object(a.jsx)("button",{type:"button",className:"sort-btn",onClick:function(){var e=n.sort((function(e,t){return e.title.localeCompare(t.title)}));c(Object(s.a)(e))},children:"Sort movies alphabetically"}),Object(a.jsx)("input",{type:"text",className:"search-input",onChange:function(e){var t=e.target.value;m(t.toLowerCase())},placeholder:"Enter a title or an actor"}),Object(a.jsx)(f,{movies:b,removeMovie:function(e){c(n.filter((function(t){return t.id!==e})))}})]})};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(N,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.d9fd3d10.chunk.js.map